---
title: "Data <br>Wrangling"
subtitle: "Topic - 2"
author: Ajay Koli
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    css: ["default", "assets/css/my-theme.css", "assets/css/my-fonts.css"]
    seal: false
    lib_dir: libs
    nature:
      # autoplay: 5000
      highlightStyle: solarized-light
      highlightLanguage: ["r", "css", "yaml"]
      slideNumberFormat: "%current%/%total%" 
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  collapse = TRUE,
  fig.retina = 3,
  comment = ""
)
library(ymlthis)
library(emo)
library(emojifont)
library(tidyverse)
library(fontawesome)
library(magick)
library(icon)
library(xaringanExtra)
xaringanExtra::use_tachyons()
xaringanExtra::use_tile_view()
xaringanExtra::use_webcam()
xaringanExtra::use_fit_screen()
xaringanExtra::use_extra_styles(hover_code_line = TRUE, mute_unhighlighted_code = TRUE)
#xaringanExtra::use_share_again()
xaringanExtra::use_panelset()
#<a class="footer-link" href="https://r4b.netlify.app/">r4b/share</a>
```

layout: true

---

class: title-slide, hide-count, top
background-image: url(images/02-wrangling/cover.jpg)
background-size: cover
background-position: 50% 50%

.pull-left[
# .pv3.b--dark-white.ba.ph4.bw3.center.b.white.top[`r rmarkdown::metadata$title`]
]

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>


### .b.right.orange[`r rmarkdown::metadata$subtitle` | `r rmarkdown::metadata$author`]

---

# Data Wrangling

- "tidying and transforming"

---

# Tidy your data

- "your data is tidy, each column is a variable, and each row is an observation"


---

# Transform your data

- "includes narrowing in on observations of interest"

- "creating new variables that are functions of existing variables"



---

# Make sure that:

- `r emo::ji("check")` you are working in RStudio Project.

- `r emo::ji("check")` download package **tidyverse** & **palmerpenguins**.

---

class: middle
background-image: url(images/02-wrangling/lter_penguins.png)
background-size: 50%
background-position: 5% 50%

.pull-right[
# .center[penguins]
]

.footnote[
Artwork by [@allison_horst](https://www.allisonhorst.com/)
]

---

# `penguins` data

.panelset[

.panel[.panel-name[Codes]

```{r data-peng, message=FALSE, eval=FALSE}
library(palmerpenguins)

penguins #<<
```
]

.panel[.panel-name[Output]

```{r ref.label="data-peng", echo=FALSE, message=FALSE}

```

]
]

---

# Select columns

.panelset[

.panel[.panel-name[Codes]

```{r select-col, message=FALSE, eval=FALSE}
penguins %>% 
  select(sex, year) #<<
```
]

.panel[.panel-name[Output]

```{r ref.label="select-col", echo=FALSE, message=FALSE}

```

]
]

---

# `Select` particular columns

.panelset[

.panel[.panel-name[R Script]

```{r select-col2, message=FALSE, eval=FALSE}
penguins %>% 
  select(-c(sex, year)) #<<
```
]

.panel[.panel-name[Output]

```{r ref.label="select-col2", echo=FALSE, message=FALSE}

```

]
]



---

write data file to your computer

read data file from your computer




---

background-image: url(images/02-wrangling/readr-logo.png)
background-size: 10%
background-position: 97% 5%

# Write/Read your data

- using pkg [**readr**](https://readr.tidyverse.org/):

- "fast and friendly way to read rectangular data (like csv, tsv, and fwf)"

- it comes with pkg **tidyverse** package, so no need to install or library it separately

---

class:

# Write Data file to your computer

```{r write-data, message=FALSE, eval=FALSE}
write_csv( #<<
  penguins,
  "data/palmer-penguins.csv"
)

```

---

class:

# Read Data file from your computer

.panelset[

.panel[.panel-name[R Script]

```{r import1, message=FALSE, eval=FALSE}
read_csv(
  "data/new-penguins.csv"
)

```
]

.panel[.panel-name[Output]

```{r ref.label="import1", echo=FALSE, message=FALSE}

```

]
]


