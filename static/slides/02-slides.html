---
title: "Lab 02: CS631"
subtitle: "Working in the Tidyverse"
author: "Alison Hill"
output:
  xaringan::moon_reader:
    css: ["default", "css/ohsu.css", "css/ohsu-fonts.css"]
    lib_dir: libs
    nature:
      highlightStyle: atelier-lakeside-light
      highlightLines: true
      countIncrementalSlides: false
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>


<div id="tidyverse-basics" class="section level1">
<h1>Tidyverse basics</h1>
<p>In David Robinson‚Äôs DataCamp course you learned:</p>
<ul>
<li><code>&lt;-</code> (variable assignment)</li>
<li><code>%&gt;%</code> (then‚Ä¶)</li>
<li><code>dplyr</code>, <code>ggplot2</code> (packages)
<ul>
<li><code>install.packages("dplyr")</code> (1x per machine)</li>
<li><code>library(dplyr)</code> (1x per work session)</li>
</ul></li>
</ul>
</div>
<div id="data-for-today" class="section level1">
<h1>Data for today</h1>
<p>We‚Äôll use data from the Museum of Modern Art (MoMA)</p>
<ul>
<li>Publicly available on <a href="https://github.com/MuseumofModernArt/collection">GitHub</a></li>
<li>As analyzed by <a href="https://fivethirtyeight.com/features/a-nerds-guide-to-the-2229-paintings-at-moma/">fivethirtyeight.com</a></li>
<li>And by <a href="https://medium.com/@foe/here-s-a-roundup-of-how-people-have-used-our-data-so-far-80862e4ce220">others</a></li>
</ul>
</div>
<div id="data-wrangling-so-far" class="section level1">
<h1>Data wrangling so far</h1>
<p>All functions from <code>dplyr</code> package</p>
<p>.pull-left[
From DataCamp Chapter 1</p>
<ul>
<li><p>print a tibble</p></li>
<li><p><code>filter</code></p></li>
<li><p><code>arrange</code></p></li>
<li><p><code>mutate</code>
]</p></li>
</ul>
<p>‚Äì</p>
<p>.pull-right[
From Lab 01</p>
<ul>
<li><p><code>glimpse</code></p></li>
<li><p><code>distinct</code></p></li>
<li><p><code>count</code>
]</p></li>
</ul>
<p>class: middle, center, inverse</p>
</div>
<div id="section" class="section level1">
<h1>‚åõÔ∏è</h1>
<div id="lets-review-some-helpful-functions-for-filter" class="section level2">
<h2>Let‚Äôs review some helpful functions for <code>filter</code></h2>
<p>class: middle, center, inverse</p>
<p>#üí°</p>
</div>
<div id="first" class="section level2">
<h2>First:</h2>
</div>
<div id="logical-operators" class="section level2">
<h2>Logical Operators</h2>
<hr />
<pre class="r"><code>?base::Logic</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Operator
</th>
<th style="text-align:left;">
Description
</th>
<th style="text-align:left;">
Usage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
&amp;
</td>
<td style="text-align:left;">
and
</td>
<td style="text-align:left;">
x &amp; y
</td>
</tr>
<tr>
<td style="text-align:left;">
|
</td>
<td style="text-align:left;">
or
</td>
<td style="text-align:left;">
x | y
</td>
</tr>
<tr>
<td style="text-align:left;">
xor
</td>
<td style="text-align:left;">
exactly x or y
</td>
<td style="text-align:left;">
xor(x, y)
</td>
</tr>
<tr>
<td style="text-align:left;">
!
</td>
<td style="text-align:left;">
not
</td>
<td style="text-align:left;">
!x
</td>
</tr>
</tbody>
</table>
<hr />
<p>Logical or (<code>|</code>) is inclusive, so <code>x | y</code> really means:</p>
<ul>
<li>x or</li>
<li>y or</li>
<li>both x &amp; y</li>
</ul>
<p>Exclusive or (<code>xor</code>) is exclusive, so <code>xor(x, y)</code> really means:</p>
<ul>
<li>x or</li>
<li>y‚Ä¶</li>
<li>but not both x &amp; y</li>
</ul>
<pre class="r"><code>x &lt;- c(0, 1, 0, 1)
y &lt;- c(0, 0, 1, 1)
boolean_or &lt;- x | y
exclusive_or &lt;- xor(x, y)
cbind(x, y, boolean_or, exclusive_or)</code></pre>
<pre><code>     x y boolean_or exclusive_or
[1,] 0 0          0            0
[2,] 1 0          1            1
[3,] 0 1          1            1
[4,] 1 1          1            0</code></pre>
<pre class="r"><code>?Comparison</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Operator
</th>
<th style="text-align:left;">
Description
</th>
<th style="text-align:left;">
Usage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
&lt;
</td>
<td style="text-align:left;">
less than
</td>
<td style="text-align:left;">
x &lt; y
</td>
</tr>
<tr>
<td style="text-align:left;">
&lt;=
</td>
<td style="text-align:left;">
less than or equal to
</td>
<td style="text-align:left;">
x &lt;= y
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;
</td>
<td style="text-align:left;">
greater than
</td>
<td style="text-align:left;">
x &gt; y
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;=
</td>
<td style="text-align:left;">
greater than or equal to
</td>
<td style="text-align:left;">
x &gt;= y
</td>
</tr>
<tr>
<td style="text-align:left;">
==
</td>
<td style="text-align:left;">
exactly equal to
</td>
<td style="text-align:left;">
x == y
</td>
</tr>
<tr>
<td style="text-align:left;">
!=
</td>
<td style="text-align:left;">
not equal to
</td>
<td style="text-align:left;">
x != y
</td>
</tr>
<tr>
<td style="text-align:left;">
%in%
</td>
<td style="text-align:left;">
group membership*
</td>
<td style="text-align:left;">
x %in% y
</td>
</tr>
<tr>
<td style="text-align:left;">
is.na
</td>
<td style="text-align:left;">
is missing
</td>
<td style="text-align:left;">
is.na(x)
</td>
</tr>
<tr>
<td style="text-align:left;">
!is.na
</td>
<td style="text-align:left;">
is not missing
</td>
<td style="text-align:left;">
!is.na(x)
</td>
</tr>
</tbody>
</table>
<p>*(shortcut to using <code>|</code> repeatedly with <code>==</code>)</p>
</div>
</div>
<div id="from-datacamp-chapter-2" class="section level1">
<h1>From DataCamp Chapter 2</h1>
<p>all <code>ggplot2</code></p>
<ul>
<li><code>aes(x = , y = )</code> (aesthetics)</li>
<li><code>aes(x = , y = , color = )</code> (add color)</li>
<li><code>aes(x = , y = , size = )</code> (add size)</li>
<li>`+ facet_wrap(~ )` (facetting)</li>
</ul>
</div>
<div id="a-scatterplot" class="section level1">
<h1>1. A scatterplot</h1>
<pre class="r"><code>library(ggplot2)
ggplot(moma_ex, aes(painted, acquired)) + 
  geom_point()</code></pre>
<p>‚Äì</p>
<p><img src="static/slides/02-slides_files/figure-html/unnamed-chunk-11-1.png" width="80%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="color-points-by-gender" class="section level1">
<h1>2. <code>color</code> points by <code>gender</code></h1>
<pre class="r"><code>library(ggplot2)
ggplot(moma_ex, aes(painted, acquired, color = gender)) + 
  geom_point()</code></pre>
<p>‚Äì</p>
<p><img src="static/slides/02-slides_files/figure-html/unnamed-chunk-13-1.png" width="80%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="size-points-by-area" class="section level1">
<h1>3. <code>size</code> points by <code>area</code></h1>
<pre class="r"><code>library(ggplot2)
ggplot(moma_ex, aes(painted, acquired, size = area)) + 
  geom_point()</code></pre>
<p>‚Äì</p>
<p><img src="static/slides/02-slides_files/figure-html/unnamed-chunk-15-1.png" width="80%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="the-five-named-graphs" class="section level1">
<h1><a href="http://moderndive.com/3-viz.html#FiveNG">The Five-Named Graphs</a></h1>
<ul>
<li>Scatterplot: <code>geom_point()</code></li>
<li>Line graph: <code>geom_line()</code></li>
<li>Histogram: <code>geom_histogram()</code></li>
<li>Boxplot: <code>geom_boxplot()</code></li>
<li>Bar graph: <code>geom_bar()</code> or <code>geom_col</code> (see <a href="../01-eda_hot_dogs.html">Lab 01</a>)</li>
</ul>
<p>class: inverse, middle, center</p>
</div>
<div id="section-1" class="section level1">
<h1>üìä</h1>
<div id="basics-of-ggplot2-and-dplyr" class="section level2">
<h2>Basics of <code>ggplot2</code> and <code>dplyr</code>:</h2>
<p><a href="http://r4ds.had.co.nz/data-visualisation.html">R4DS <code>ggplot2</code> chapter</a></p>
<p><a href="http://moderndive.com/3-viz.html">ModernDive <code>ggplot2</code> chapter</a></p>
<p><a href="https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf">RStudio <code>ggplot2</code> Cheatsheet</a></p>
<p><a href="http://r4ds.had.co.nz/transform.html">R4DS <code>dplyr</code> chapter</a></p>
<p><a href="http://moderndive.com/5-wrangling.html">ModernDive <code>dplyr</code> chapter</a></p>
<p><a href="https://github.com/rstudio/cheatsheets/blob/master/data-transformation.pdf">RStudio <code>dplyr</code> Cheatsheet</a></p>
</div>
</div>
