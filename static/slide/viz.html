<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>viz.knit</title>
    <meta charset="utf-8" />
    <meta name="date" content="2022-04-22" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <script src="libs/xaringanExtra-webcam/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <script src="libs/xaringanExtra_fit-screen/fit-screen.js"></script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <meta name="description" content="Ajay Koli - Aspiring Data Scientist"/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="koliajaykr/r-training-vupune"/>
    <meta name="twitter:title" content="R FOR BEGINNERS"/>
    <meta name="twitter:description" content="Ajay Koli - Aspiring Data Scientist"/>
    <meta name="twitter:url" content="https://r4b-vu.netlify.app/"/>
    <meta name="twitter:image" content="https://r4b-vu.netlify.app/images/social-card.png"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@ajay_kolii"/>
    <meta name="twitter:site" content="@ajay_kolii"/>
    <meta property="og:title" content="R FOR BEGINNERS"/>
    <meta property="og:description" content="Ajay Koli - Aspiring Data Scientist"/>
    <meta property="og:url" content="https://r4b-vu.netlify.app/"/>
    <meta property="og:image" content="https://r4b-vu.netlify.app/images/social-card.png"/>
    <meta property="og:type" content="talk"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="Ajay Koli"/>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="css/my-theme.css" type="text/css" />
    <link rel="stylesheet" href="css/my-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






name: module3

class: title-slide, center, middle, hide-count, hide-logo

background-image: url("https://images.unsplash.com/photo-1617164924207-40e6ee7c3ffe?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1740&amp;q=80")
background-size: cover

# .white.big-text[Data Visualisation]
## .white[Session - 3]

.footnote[
.white[Image credits:][Kayvan Mazhar](https://unsplash.com/photos/SfxhjdST3Qs)
]

---

class: center

# Course Progress

&lt;img src="images/data-science-communicate.png" width="100%" style="display: block; margin: auto;" /&gt;

---

class: left, middle, hide-count, hide-logo

background-image: url("images/not_normal.png")
background-size: 70%
background-position: right

# .big-text[Data]

.footnote[
[Artwork Source](https://www.allisonhorst.com/)
]

---

# Variable types in R:

--

- `int` stands for integers, like 4, 55, 300.

--

- `dbl` stands for doubles, or real numbers like 3, 7.45, 1.565, 12.

--

- `chr` stands for character vectors, or strings like names.

--

- `dttm` stands for date-times (a date + a time).

--

- `lgl` stands for logical, vectors that contain only TRUE or FALSE.

--

- `fct` stands for factors, which R uses to represent **categorical variables** with fixed possible values like occupation: student, professional, government, business.

--

- `date` stands for dates.

---

class: hide-logo

background-image: url("images/culmen_depth.png")
background-size: 25%
background-position: 95% 5%

# Data of Palmer Penguins

- It comes with R package `palmerpenguins`

--

- Name of the data is `penguins`

--

- To know more about the data `?penguins`

--

- Included variables are:
  - species, island, bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g, sex, year


.footnote[
[Artwork Source](https://www.allisonhorst.com/)
]


---

# An Overview of Data

.panelset[

.panel[.panel-name[Codes]


```r
*glimpse(penguins)
```

]

.panel[.panel-name[Output]


```
## Rows: 344
## Columns: 8
## $ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…
## $ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…
## $ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …
## $ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …
## $ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…
## $ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …
## $ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male…
## $ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…
```

]
]

---

### An Overview of Data

.panelset[

.panel[.panel-name[Codes]


```r
*summary(penguins)
```

]

.panel[.panel-name[Output]


```
##       species          island    bill_length_mm  bill_depth_mm  
##  Adelie   :152   Biscoe   :168   Min.   :32.10   Min.   :13.10  
##  Chinstrap: 68   Dream    :124   1st Qu.:39.23   1st Qu.:15.60  
##  Gentoo   :124   Torgersen: 52   Median :44.45   Median :17.30  
##                                  Mean   :43.92   Mean   :17.15  
##                                  3rd Qu.:48.50   3rd Qu.:18.70  
##                                  Max.   :59.60   Max.   :21.50  
##                                  NA's   :2       NA's   :2      
##  flipper_length_mm  body_mass_g       sex           year     
##  Min.   :172.0     Min.   :2700   female:165   Min.   :2007  
##  1st Qu.:190.0     1st Qu.:3550   male  :168   1st Qu.:2007  
##  Median :197.0     Median :4050   NA's  : 11   Median :2008  
##  Mean   :200.9     Mean   :4202                Mean   :2008  
##  3rd Qu.:213.0     3rd Qu.:4750                3rd Qu.:2009  
##  Max.   :231.0     Max.   :6300                Max.   :2009  
##  NA's   :2         NA's   :2
```

]
]


---

# Packages required: 


```r
library(palmerpenguins) # to access penguin data
library(tidyverse) # to use ggplot2 pkg
```

- Packages recommended:


```r
install.packages(c(
  "directlabels", "dplyr", "gameofthrones", "ggforce", "gghighlight", 
  "ggnewscale", "ggplot2", "ggraph", "ggrepel", "ggtext", "ggthemes", 
  "hexbin", "mapproj", "maps", "munsell", "ozmaps", "paletteer", 
  "patchwork", "rmapshaper", "scico", "seriation", "sf", "stars", 
  "tidygraph", "tidyr", "wesanderson" 
))
```

---

class: left, middle, hide-count, hide-logo

background-image: url("images/ggplot-logo.png")
background-size: contain
background-position: 100% 50%

# .big-text[R&lt;br&gt;Package]

---

# ggplot2 by [Hadley Wickham](http://hadley.nz/)
&lt;br&gt;
- "is a system for declaratively creating graphics, based on [The Grammar of Graphics](https://www.springer.com/gp/book/9780387245447)" (book by Late Leland Wilkinson)

.pull-left[
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://upload.wikimedia.org/wikipedia/en/b/b5/Leland_Wilkinson.png" alt="Late Leland Wilkinson" width="40%" /&gt;
&lt;p class="caption"&gt;Late Leland Wilkinson&lt;/p&gt;
&lt;/div&gt;
]

.pull-right[
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="images/hadley.jpg" alt="Hadley Wickham" width="58%" /&gt;
&lt;p class="caption"&gt;Hadley Wickham&lt;/p&gt;
&lt;/div&gt;
]

.footnote[
[Source](https://ggplot2.tidyverse.org/)
]

---
class: hide-count, hide-logo

background-image: url("images/layer7.png")
background-size: contain
background-position: 50% 50%

.footnote[
[Source](https://www.ericchowkokyew.com/data-visualization-with-ggplot2-in-r/)
]

---

# Key Components for ggplot2 Plot

1. data,

1. aesthetic mapping

1. at least one layer of geom function

---

.panelset[

.panel[.panel-name[Task]

&lt;img src="images/layer1.png" width="45%" style="display: block; margin: auto;" /&gt;

]

.panel[.panel-name[Codes]


```r
*ggplot(data = penguins)
```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-4-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

.panelset[

.panel[.panel-name[Task]

&lt;img src="images/layer2.png" width="45%" style="display: block; margin: auto;" /&gt;

]

.panel[.panel-name[Codes]


```r
*ggplot(data = penguins, mapping = aes(x = species))
```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-5-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

.panelset[

.panel[.panel-name[Task]

&lt;img src="images/layer3.png" width="45%" style="display: block; margin: auto;" /&gt;

]

.panel[.panel-name[Codes]


```r
ggplot(data = penguins, mapping = aes(x = species)) +
* geom_bar()
```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-6-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(penguins, aes(x = species)) +
  geom_bar() 
```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-7-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: your-turn, hide-logo

# 🧠 YOUR TURN

<div class="countdown" id="timer_62628fd3" style="top:0;right:0;font-size:3em;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.panelset[

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-9-1.png" width="38%" style="display: block; margin: auto;" /&gt;

]

.panel[.panel-name[Codes]


```r
ggplot(data = penguins, mapping = aes(x = island)) +
  geom_bar() 
```

]
]

---

class: center, middle

# How to export plot to your computer?

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins, mapping = aes(x = species)) +
  geom_bar() 

*ggsave("peng-species.pdf")  # also try jpg/jpeg/png
```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-10-1.png" width="504" style="display: block; margin: auto;" /&gt;

```
## Saving 7 x 7 in image
```

]
]

---
class: center, middle

# How to add color to bars?

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins, mapping = aes(x = species)) +
* geom_bar(fill = "blue")
```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-11-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins, mapping = aes(x = species)) +
* geom_bar(fill = c("orange", "white", "green"))

# color names should be equal to the factor levels
# in case of factor species levels are three
# Adele, Chinstrap &amp; Gentoo
```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-12-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: center, middle

# How to add color using palette? 🎨

---

## 🎨 Color Palette

- R package `RColorBrewer` &amp; `wesanderson`

&lt;img src="viz_files/figure-html/unnamed-chunk-13-1.png" width="1224" style="display: block; margin: auto;" /&gt;

---

.panelset[

.panel[.panel-name[Codes]


```r
library(RColorBrewer)

ggplot(data = penguins,
       mapping = aes(x = species,
*                    fill = species)) +
  geom_bar() +
* scale_fill_brewer(palette = "Dark2")

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-14-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: center, middle

# How to remove legend or change its position?


---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins,
       mapping = aes(x = species,
                     fill = species)) + 
  geom_bar() +
  scale_fill_brewer(palette = "Dark2") +
  theme(legend.position = "none") # top, bottom, left

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-15-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: center, middle

# How to plot title and axis titles?

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins,
       mapping = aes(x = species,
                     fill = species)) +
  geom_bar() +
  scale_fill_brewer(palette = "Dark2") +
  theme(legend.position = "none") +
  labs(
    title = "Species of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Species",
    y = "Frequency"
  )

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-16-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: center, middle

# How to control size of text?

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins,
       mapping = aes(x = species,
                     fill = species)) +
  geom_bar() +
  scale_fill_brewer(palette = "Dark2") +
  theme(legend.position = "none",
*       text = element_text(size = 20)) +
  labs(
    title = "Species of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Species",
    y = "Frequency"
  )

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-17-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: center, middle

# How to plot two numeric variables?

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins,
       mapping = aes(x = bill_length_mm,
                     y = bill_depth_mm,
                     color = species)) +
  geom_point() +
  scale_fill_brewer(palette = "Dark2") +
  theme(legend.position = "none",
*       text = element_text(size = 20)) +
  labs(
    title = "Relationship between bill length \n&amp; depth of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Bill length (mm)",
    y = "Bith depth (mm)"
  )

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-18-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: center, middle

# How to add themes to ggplot?

---

# ggplot2 themes 

&lt;https://ggplot2.tidyverse.org/reference/ggtheme.html&gt;

- theme_gray()

- theme_bw()

- theme_linedraw()

- theme_light()

- theme_dark()

- theme_minimal()

- theme_classic()

- theme_void()

- theme_test()

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins,
       mapping = aes(x = bill_length_mm,
                     y = bill_depth_mm,
                     color = species)) +
  geom_point() +
  scale_fill_brewer(palette = "Dark2") +
  theme(legend.position = "none",
        text = element_text(size = 20)) + 
  labs(
    title = "Relationship between bill length \n&amp; depth of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Bill length (mm)",
    y = "Bith depth (mm)"
  ) +
* theme_bw()

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-19-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins,
       mapping = aes(x = bill_length_mm,
                     y = bill_depth_mm,
                     color = species)) +
  geom_point() +
  scale_fill_brewer(palette = "Dark2") +
  theme(legend.position = "none",
*       text = element_text(size = 20)) +
  labs(
    title = "Relationship between bill length \n&amp; depth of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Bill length (mm)",
    y = "Bith depth (mm)"
  ) +
  theme_classic()

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-20-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

class: center, middle

# How to add regression line to ggplot?

---

.panelset[

.panel[.panel-name[Codes]


```r
ggplot(data = penguins,
       mapping = aes(x = flipper_length_mm,
                     y = body_mass_g)) +
  geom_point() +
  theme(legend.position = "none",
        text = element_text(size = 24)) + 
  labs(
    title = "Relationship between bill length \n&amp; depth of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Flipper length (mm)",
    y = "Body mass (gm)"
  ) +
  theme_classic() +
* geom_smooth()

```

]

.panel[.panel-name[Output]

&lt;img src="viz_files/figure-html/unnamed-chunk-21-1.png" width="504" style="display: block; margin: auto;" /&gt;

]
]

---

# More resources

- ggplot2 book https://ggplot2-book.org/

- CÉDRIC SCHERER https://www.cedricscherer.com/

- ggplot2 cook book http://www.cookbook-r.com/

---

class: center middle hide-count

#  🙋🏽‍♀️🙋‍♂️&lt;br&gt;.big-text[Q&amp;A]

---

class: center, middle, inverse, hide-logo

# Dynamic Wrangling&lt;br&gt;Using dplyr
### .orange[Next Module - 4]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "solarized-light",
"highlightLanguage": ["r", "css", "yaml"],
"slideNumberFormat": "%current%/%total%",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
.logo {
  background-image: url(logo.png);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  width: 110px;
  height: 128px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    // ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
